# parser_bot

<!-- ABOUT THE PROJECT -->
## О проекте
Бот предоставляет возможность загрузить файл Excel и получить среднюю цену товаров по каждому сайту.


**Логика работы:**
- Пользователь прикрепляет файл excel в формате таблицы с полями:
  - title - название;
  - url - ссылка на сайт источник;
  - xpath - путь к элементу с ценой.
- Бот получает файл, сохраняет в локальную БД sqlite. 
- Открывает файл библиотекой pandas. 
- Парсит по данным из таблицы.
- Выводит среднюю цену продукта по каждому сайту в ответ пользователю. 


**Стек:**
- python
- pandas
- python-telegram-bot
- requests
- lxml
- sqlite


<!-- GETTING STARTED -->
## Подготовка к работе

Для запуска локальной копии выполните следующие шаги:

### Установка

1. Клонируйте проект
   ```sh
   git@github.com:aukhadieva/parser_bot.git
   ```
2. Убедитесь, что вы получили из удаленного репозитория все ветки и переключились на ветку разработки develop
   ```sh
   git checkout develop
   ```
3. Создайте в корне проекта файл .env и заполните переменные среды в соответствии с желаемой конфигурацией, используя файл .env_sample. 
4. **Для проверки работы бота можно воспользоваться токеном 6760302614:AAE5DGff0GefQqJxPI-WxrI6bP0dAk8Syvs**.


### Запуск приложения
1. Для сборки образа и запуска контейнера, выполните команду
   ```sh
   docker-compose up -d --build
   ```
2. Для того чтобы воспользоваться ботом, пройдите по ссылке 
   ```url
   https://t.me/the_best_parser_bot
   ```